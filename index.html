<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Reading Response Survey</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
      body {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 1rem;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }
      .container {
        background: rgba(255, 255, 255, 0.98);
        backdrop-filter: blur(12px);
        border-radius: 20px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        padding: 2rem;
        max-width: 900px;
        position: relative;
      }
      h1 {
        color: #2c3e50;
        font-weight: 700;
        text-align: center;
        margin-bottom: 2rem;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      h2 {
        color: #34495e;
        font-weight: 600;
        border-bottom: 3px solid #3498db;
        padding-bottom: 0.5rem;
        margin-bottom: 1.5rem;
        position: sticky;
        top: 0;
        background: rgba(255, 255, 255, 0.95);
        z-index: 10;
        border-radius: 10px;
      }
      .timer {
        position: fixed;
        top: 20px;
        right: 20px;
        background: rgba(52, 73, 94, 0.9);
        color: white;
        padding: 0.75rem 1.5rem;
        border-radius: 25px;
        font-weight: 600;
        backdrop-filter: blur(5px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      }
      .excerpt {
        background: linear-gradient(145deg, #f8f9fa, #e9ecef);
        border-left: 4px solid #3498db;
        padding: 1.5rem;
        margin: 1.5rem 0;
        border-radius: 10px;
        font-style: italic;
        line-height: 1.8;
        font-size: 1.1rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }
      .page {
        display: none;
        animation: fadeIn 0.5s ease-in-out;
      }
      .page.active {
        display: block;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }
      .navigation {
        margin-top: 2rem;
        display: flex;
        justify-content: space-between;
        gap: 1rem;
      }
      .btn {
        border-radius: 25px;
        padding: 0.75rem 2rem;
        font-weight: 600;
        transition: all 0.3s ease;
        border: none;
        position: relative;
        overflow: hidden;
      }
      .btn::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        transition: width 0.4s ease, height 0.4s ease;
      }
      .btn:hover::after {
        width: 200%;
        height: 200%;
      }
      .btn-primary {
        background: linear-gradient(45deg, #3498db, #2980b9);
      }
      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
      }
      .btn-secondary {
        background: linear-gradient(45deg, #95a5a6, #7f8c8d);
      }
      .btn-success {
        background: linear-gradient(45deg, #27ae60, #2ecc71);
      }
      .btn-copy {
        background: linear-gradient(45deg, #6c757d, #5a6268);
      }
      .btn-copy:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(108, 117, 125, 0.4);
      }
      .form-control, .form-select {
        border-radius: 10px;
        border: 2px solid #ecf0f1;
        padding: 0.75rem;
        transition: all 0.3s ease;
        background: #fff;
      }
      .form-control:focus, .form-select:focus {
        border-color: #3498db;
        box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
      }
      .form-range {
        height: 6px;
        background: linear-gradient(to right, #e74c3c, #f39c12, #27ae60);
        border-radius: 3px;
      }
      .form-range::-webkit-slider-thumb {
        background: #3498db;
        border-radius: 50%;
        width: 20px;
        height: 20px;
        border: 3px solid white;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      }
      .form-range-value {
        font-weight: 600;
        color: #3498db;
      }
      .form-label {
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 0.5rem;
      }
      .form-check-input:checked {
        background-color: #3498db;
        border-color: #3498db;
      }
      .mb-3 {
        margin-bottom: 1.5rem !important;
      }
      .progress-container {
        margin-bottom: 1.5rem;
      }
      .progress {
        height: 10px;
        border-radius: 5px;
        background: #ecf0f1;
      }
      .progress-bar {
        background: linear-gradient(45deg, #3498db, #2980b9);
        transition: width 0.3s ease;
      }
      .instructions {
        font-size: 1rem;
        color: #34495e;
        margin-bottom: 1.5rem;
        background: #f8f9fa;
        padding: 1rem;
        border-radius: 10px;
      }
      .invalid-feedback {
        display: none;
        color: #e74c3c;
        font-size: 0.875rem;
      }
      .is-invalid .invalid-feedback {
        display: block;
      }
      .is-invalid .form-control, .is-invalid .form-select {
        border-color: #e74c3c;
      }
      .likert-labels {
        display: flex;
        justify-content: space-between;
        font-size: 0.8rem;
        color: #2c3e50;
        margin-top: 0.5rem;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Reading Response Survey</h1>
      <div class="progress-container">
        <div class="progress">
          <div class="progress-bar" id="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
      </div>
      <form id="survey-form">
        <div id="page-container"></div>
        
        <!-- Navigation buttons -->
        <div class="navigation">
          <button type="button" id="prevBtn" class="btn btn-secondary" disabled>Previous</button>
          <button type="button" id="nextBtn" class="btn btn-primary">Next</button>
          <button type="submit" id="submitBtn" class="btn btn-success" style="display:none;">Submit</button>
        </div>
      </form>
      <div class="timer" id="timer">Time elapsed: 0s</div>
    </div>

    <script>
      // Page configuration
      const pageConfig = [
        {
          title: "Welcome",
          instructions: "introductory text",
          fields: []
        },
        {
          title: "Demographics",
          instructions: "Please provide some background information about yourself.",
          fields: [
            { type: "number", id: "age", label: "Age", placeholder: "Enter your age", min: 1, required: true },
            { type: "select", id: "gender", label: "Gender", options: ["", "Female", "Male", "Non-binary", "Prefer not to say", "Other"], required: true },
            { type: "select", id: "education", label: "Highest level of education completed", options: ["", "Elementary School", "Middle School", "High School", "Some College", "Associates", "Bachelors", "Masters", "PhD/MD", "Postdoctoral"], required: true },
            { type: "text", id: "field", label: "Academic or career field", placeholder: "e.g., Engineering", required: true },
            { type: "textarea", id: "language", label: "Add your languages (indicate whether you are comfortable speaking, reading, listening, writing for each)", placeholder: "e.g., English (speaking, reading, listening, writing), Spanish (reading, listening)", required: true },
            { type: "select", id: "country", label: "Country", options: ["", "Afghanistan", "Albania", "Algeria", "Andorra", "Angola", "Antigua and Barbuda", "Argentina", "Armenia", "Australia", "Austria", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados", "Belarus", "Belgium", "Belize", "Benin", "Bhutan", "Bolivia", "Bosnia and Herzegovina", "Botswana", "Brazil", "Brunei", "Bulgaria", "Burkina Faso", "Burundi", "Cabo Verde", "Cambodia", "Cameroon", "Canada", "Central African Republic", "Chad", "Chile", "China", "Colombia", "Comoros", "Congo, Democratic Republic of the", "Congo, Republic of the", "Costa Rica", "Croatia", "Cuba", "Cyprus", "Czech Republic", "Denmark", "Djibouti", "Dominica", "Dominican Republic", "East Timor", "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea", "Eritrea", "Estonia", "Eswatini", "Ethiopia", "Fiji", "Finland", "France", "Gabon", "Gambia", "Georgia", "Germany", "Ghana", "Greece", "Grenada", "Guatemala", "Guinea", "Guinea-Bissau", "Guyana", "Haiti", "Honduras", "Hungary", "Iceland", "India", "Indonesia", "Iran", "Iraq", "Ireland", "Israel", "Italy", "Jamaica", "Japan", "Jordan", "Kazakhstan", "Kenya", "Kiribati", "Korea, North", "Korea, South", "Kosovo", "Kuwait", "Kyrgyzstan", "Laos", "Latvia", "Lebanon", "Lesotho", "Liberia", "Libya", "Liechtenstein", "Lithuania", "Luxembourg", "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Malta", "Marshall Islands", "Mauritania", "Mauritius", "Mexico", "Micronesia", "Moldova", "Monaco", "Mongolia", "Montenegro", "Morocco", "Mozambique", "Myanmar", "Namibia", "Nauru", "Nepal", "Netherlands", "New Zealand", "Nicaragua", "Niger", "Nigeria", "North Macedonia", "Norway", "Oman", "Pakistan", "Palau", "Panama", "Papua New Guinea", "Paraguay", "Peru", "Philippines", "Poland", "Portugal", "Qatar", "Romania", "Russia", "Rwanda", "Saint Kitts and Nevis", "Saint Lucia", "Saint Vincent and the Grenadines", "Samoa", "San Marino", "Sao Tome and Principe", "Saudi Arabia", "Senegal", "Serbia", "Seychelles", "Sierra Leone", "Singapore", "Slovakia", "Slovenia", "Solomon Islands", "Somalia", "South Africa", "South Sudan", "Spain", "Sri Lanka", "Sudan", "Suriname", "Sweden", "Switzerland", "Syria", "Taiwan", "Tajikistan", "Tanzania", "Thailand", "Togo", "Tonga", "Trinidad and Tobago", "Tunisia", "Turkey", "Turkmenistan", "Tuvalu", "Uganda", "Ukraine", "United Arab Emirates", "United Kingdom", "United States", "Uruguay", "Uzbekistan", "Vanuatu", "Vatican City", "Venezuela", "Vietnam", "Yemen", "Zambia", "Zimbabwe"], required: true },
            { type: "select", id: "reading_freq", label: "How often do you read?", options: ["", "Daily", "Weekly", "Monthly", "Rarely", "Never"], required: true }
          ]
        },
        {
          title: "Reading Excerpt",
          instructions: "Please read the following excerpt carefully.",
          customContent: true,
          content: `
            <div class="excerpt" id="excerpt-human" style="display: none;">
              <p>Literary Text 1</p>
            </div>
            <div class="excerpt" id="excerpt-ai" style="display: none;">
              <p>Literary Text 2</p>
            </div>
            <div class="excerpt" id="excerpt-ai2" style="display: none;">
              <p>Literary Text 3</p>
            </div>
            <div class="excerpt" id="excerpt-human2" style="display: none;">
              <p>Literary Text 4</p>
            </div>
          `
        },
        {
          title: "Reading Experience & Engagement",
          instructions: "Rate your experience and engagement with the text you just read.",
          fields: [
            { type: "range", id: "exp1", label: "I felt a pull to keep reading…", min: 1, max: 7, value: 4, required: true },
            { type: "range", id: "exp2", label: "The events and characters felt real to me.", min: 1, max: 7, value: 4, required: true },
            { type: "range", id: "exp3", label: "I felt a sense of connection to the characters.", min: 1, max: 7, value: 4, required: true },
            { type: "range", id: "exp4", label: "Narrative flow was smooth.", min: 1, max: 7, value: 4, required: true },
            { type: "range", id: "exp5", label: "I felt the intended mood or tone.", min: 1, max: 7, value: 4, required: true },
            { type: "range", id: "exp6", label: "How likely are you to read the rest?", min: 1, max: 7, value: 4, required: true }
          ]
        },
        {
          title: "Literary Quality & Appreciation",
          instructions: "Evaluate the literary quality of the text you read.",
          fields: [
            { type: "range", id: "lit1", label: "How vivid were the images?", min: 1, max: 7, value: 4, required: true },
            { type: "range", id: "lit2", label: "How well did characters' thoughts come through?", min: 1, max: 7, value: 4, required: true },
            { type: "range", id: "lit3", label: "How precise were word choices?", min: 1, max: 7, value: 4, required: true },
            { type: "range", id: "lit4", label: "How compelling were character interactions?", min: 1, max: 7, value: 4, required: true },
            { type: "range", id: "lit5", label: "To what extent did the author's voice come through?", min: 1, max: 7, value: 4, required: true },
            { type: "range", id: "lit6", label: "To what extent did the writing feel genuine?", min: 1, max: 7, value: 4, required: true },
            { type: "textarea", id: "lit7", label: "What moment/image/feeling stuck with you most?" }
          ]
        },
        {
          title: "",
          titleId: "authorship-title",
          instructions: "",
          customContent: true,
          content: `
            <div id="authorship-info" style="display: none;">
              <div class="instructions">Please answer the following questions about the source of the text.</div>
              <div class="mb-3">
                <label for="recall_source" class="form-label">Please indicate what you recall about the source of the text:</label>
                <select id="recall_source" name="recall_source" class="form-select">
                  <option value="">Select an option…</option>
                  <option>The text was identified as from a human author</option>
                  <option>The text was identified as from an artificial intelligence (AI) system</option>
                </select>
                <div class="invalid-feedback">Please select an option.</div>
              </div>
              <div class="mb-3">
                <label for="influence_engagement" class="form-label">To what extent did this information influence your engagement with the text? <span class="form-range-value" id="influence_engagement-value">4</span></label>
                <input type="range" id="influence_engagement" name="influence_engagement" class="form-range" min="1" max="7" value="4" oninput="document.getElementById('influence_engagement-value').innerText = this.value" />
                <div class="likert-labels">
                  <span>1 (Not at all)</span>
                  <span>2</span>
                  <span>3</span>
                  <span>4 (Neutral)</span>
                  <span>5</span>
                  <span>6</span>
                  <span>7 (Very much)</span>
                </div>
                <div class="invalid-feedback">Please adjust the slider.</div>
              </div>
              <div class="mb-3">
                <label for="influence_quality" class="form-label">To what extent did this information influence your perception of the text’s quality? <span class="form-range-value" id="influence_quality-value">4</span></label>
                <input type="range" id="influence_quality" name="influence_quality" class="form-range" min="1" max="7" value="4" oninput="document.getElementById('influence_quality-value').innerText = this.value" />
                <div class="likert-labels">
                  <span>1 (Not at all)</span>
                  <span>2</span>
                  <span>3</span>
                  <span>4 (Neutral)</span>
                  <span>5</span>
                  <span>6</span>
                  <span>7 (Very much)</span>
                </div>
                <div class="invalid-feedback">Please adjust the slider.</div>
              </div>
              <div class="mb-3">
                <label for="influence_emotion" class="form-label">In what ways, if any, did this information affect your emotional connection to the text?</label>
                <textarea id="influence_emotion" name="influence_emotion" class="form-control"></textarea>
              </div>
              <div class="mb-3">
                <label for="confidence_evaluation" class="form-label">How confident do you feel in your evaluation of the text given the information you received about its source? <span class="form-range-value" id="confidence_evaluation-value">4</span></label>
                <input type="range" id="confidence_evaluation" name="confidence_evaluation" class="form-range" min="1" max="7" value="4" oninput="document.getElementById('confidence_evaluation-value').innerText = this.value" />
                <div class="likert-labels">
                  <span>1 (Not at all)</span>
                  <span>2</span>
                  <span>3</span>
                  <span>4 (Neutral)</span>
                  <span>5</span>
                  <span>6</span>
                  <span>7 (Very confident)</span>
                </div>
                <div class="invalid-feedback">Please adjust the slider.</div>
              </div>
            </div>
            <div id="perceived-source" style="display: none;">
              <div class="instructions">Based on the style and content of the excerpt, please provide your best guess about its origin and answer the related questions.</div>
              <div class="mb-3">
                <label for="originguess" class="form-label">Based on the style and content of this excerpt, what is your best guess about how it was created?</label>
                <select id="originguess" name="originguess" class="form-select">
                  <option value="">Select origin…</option>
                  <option>Written by a human author</option>
                  <option>Written by an Artificial Intelligence (AI)</option>
                  <option>Unsure</option>
                </select>
                <div class="invalid-feedback">Please select an option.</div>
              </div>
              <div class="mb-3">
                <label for="ai_likelihood" class="form-label">To what extent do you believe this excerpt was written by an Artificial Intelligence (AI)? <span id="ai_likelihood-value">50%</span></label>
                <input type="range" id="ai_likelihood" name="ai_likelihood" class="form-range" min="0" max="100" value="50" oninput="document.getElementById('ai_likelihood-value').innerText = this.value + '%'" />
                <div class="likert-labels">
                  <span>0% (Definitely not AI)</span>
                  <span>25%</span>
                  <span>50% (Unsure)</span>
                  <span>75%</span>
                  <span>100% (Definitely AI)</span>
                </div>
                <div class="invalid-feedback">Please adjust the slider.</div>
              </div>
              <div class="mb-3">
                <label for="confidence_origin" class="form-label">How confident are you in your choice about the author's origin (human/AI)? <span class="form-range-value" id="confidence_origin-value">4</span></label>
                <input type="range" id="confidence_origin" name="confidence_origin" class="form-range" min="1" max="7" value="4" oninput="document.getElementById('confidence_origin-value').innerText = this.value" />
                <div class="likert-labels">
                  <span>1 (Not at all)</span>
                  <span>2</span>
                  <span>3</span>
                  <span>4 (Neutral)</span>
                  <span>5</span>
                  <span>6</span>
                  <span>7 (Very confident)</span>
                </div>
                <div class="invalid-feedback">Please adjust t1
